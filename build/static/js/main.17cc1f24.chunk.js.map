{"version":3,"sources":["pages/home/Home.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useFirestore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","pages/home/Home.js","hooks/useCollection.js","hooks/useLogin.js","pages/login/Login.js","hooks/useSignup.js","pages/signup/Signup.js","hooks/useLogout.js","components/Navbar.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","initialState","document","isPending","error","success","firestoreReducer","useFirestore","collection","response","useState","isCancelled","setIsCancelled","ref","dispatchIfNotCancelled","addDocument","doc","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","id","delete","TransactionForm","uid","name","setName","amount","setAmount","onSubmit","e","preventDefault","required","onChange","target","TransactionList","transactions","className","styles","map","transaction","onClick","Home","_query","_orderBy","documents","setDocuments","setError","query","useRef","current","orderBy","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","push","data","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","useLogin","disabled","Signup","displayName","setDisplayName","signup","createUserWithEmailAndPassword","updateProfile","useSignup","Navbar","logout","signOut","useLogout","navbar","title","to","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.17cc1f24.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3bftD\",\"content\":\"Home_content__18qU0\",\"sidebar\":\"Home_sidebar__21xz5\",\"transactions\":\"Home_transactions__3_tqr\",\"name\":\"Home_name__4a_Tj\",\"amount\":\"Home_amount__1MW_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\",\"title\":\"Navbar_title__2CGsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1NBYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__3B7tC\"};","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyB4jvOp2dczh3K4NGHGoyqzwokHKvxxiTk\",\n    authDomain: \"mymoney-1e7e8.firebaseapp.com\",\n    projectId: \"mymoney-1e7e8\",\n    storageBucket: \"mymoney-1e7e8.appspot.com\",\n    messagingSenderId: \"579711025992\",\n    appId: \"1:579711025992:web:ad005fd2bfade0dc16697d\"\n};\n\n// Init firebase\nfirebase.initializeApp(firebaseConfig)\n\n// Init service\nconst projectFirestore = firebase.firestore()\nconst projectAuth = firebase.auth()\n\n// Timestamp\nconst timestamp = firebase.firestore.Timestamp\n\nexport { projectFirestore, projectAuth, timestamp }","import { createContext, useEffect, useReducer } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n    switch (action.type) {\n        case 'LOGIN':\n            return { ...state, user: action.payload }\n        case 'LOGOUT':\n            return { ...state, user: null }\n        case 'AUTH_IS_READY':\n            return { ...state, user: action.payload, authIsReady: true }\n        default:\n            return state\n    }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(authReducer, {\n        user: null,\n        authIsReady: false\n    })\n\n    // This is going to execute once we first laod the page. Then it is going to check if we already have an user or not. Then it will unsubscribe itself so that it does not fire\n    // everytime time there is a change in the Auth status\n    useEffect(() => {\n        const unsub = projectAuth.onAuthStateChanged((user) => {\n            dispatch({ type: 'AUTH_IS_READY', payload: user })\n            unsub()\n        })\n    }, [])\n\n    console.log('AuthContext state:', state)\n\n    return (\n        // Like this we are wrapping our whole app because app is the children (check index.js)\n        <AuthContext.Provider value={{ ...state, dispatch }}>\n            {children}\n        </AuthContext.Provider>\n    )\n}","import { AuthContext } from \"../context/AuthContext\";\nimport { useContext } from \"react\";\n\nexport const useAuthContext = () => {\n    const context = useContext(AuthContext)\n\n    if (!context) {\n        throw Error('useAuthContext must be inside an AuthContextProvider')\n    }\n\n    return context\n}","import { useReducer, useEffect, useState } from \"react\";\nimport { projectFirestore, timestamp } from \"../firebase/config\"\n\nlet initialState = {\n    document: null,\n    isPending: false,\n    error: null,\n    success: null\n}\n\nconst firestoreReducer = (state, action) => {\n    switch (action.type) {\n        case 'IS_PENDING':\n            return { isPending: true, document: null, success: false, error: null }\n        case 'ADDED_DOCUMENT':\n            return { isPending: false, document: action.payload, success: true, error: null }\n        case 'DELETED_DOCUMENT':\n            return { isPending: false, document: null, success: true, error: null }\n        case 'ERROR':\n            return { isPending: false, document: null, success: false, error: action.payload }\n        default:\n            return state\n    }\n}\n\nexport const useFirestore = (collection) => {\n    const [response, dispatch] = useReducer(firestoreReducer, initialState)\n    const [isCancelled, setIsCancelled] = useState(false)\n\n    // Collection ref\n    const ref = projectFirestore.collection(collection)\n\n    // Only dispatch if not cancelled\n    const dispatchIfNotCancelled = (action) => {\n        if (!isCancelled) {\n            dispatch(action)\n        }\n    }\n\n    // Add a document\n    const addDocument = async (doc) => {\n        dispatch({ type: 'IS_PENDING' })\n\n        try {\n            const createdAt = timestamp.fromDate(new Date())\n            const addedDocument = await ref.add({ ...doc, createdAt })\n            dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n        }\n        catch (err) {\n            dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n        }\n    }\n\n    // Delete a document\n    const deleteDocument = async (id) => {\n        dispatch({ type: 'IS_PENDING' })\n\n        try {\n            await ref.doc(id).delete()\n            dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\n        }\n        catch (err) {\n            dispatchIfNotCancelled({ type: 'ERROR', payload: 'Could not delete' })\n        }\n    }\n\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { addDocument, deleteDocument, response }\n}","import { useState, useEffect } from \"react\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\n\nexport default function TransactionForm({ uid }) {\n    const [name, setName] = useState('')\n    const [amount, setAmount] = useState('')\n    const { addDocument, response } = useFirestore('transactions')\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        addDocument({\n            uid,\n            name,\n            amount\n        })\n    }\n\n    // Reset the form fields\n    useEffect(() => {\n        if (response.success) {\n            setName('')\n            setAmount('')\n        }\n    }, [response.success])\n\n    return (\n        <>\n            <h3>Add a Transaction</h3>\n            <form onSubmit={handleSubmit}>\n                <label>\n                    <span>Transaction name:</span>\n                    <input\n                        type=\"text\"\n                        required\n                        onChange={(e) => setName(e.target.value)}\n                        value={name}\n                    />\n                </label>\n                <label>\n                    <span>Amount (€):</span>\n                    <input\n                        type=\"number\"\n                        required\n                        onChange={(e) => setAmount(e.target.value)}\n                        value={amount}\n                    />\n                </label>\n                <button>Add Transaction</button>\n            </form>\n        </>\n    )\n}\n","import { useFirestore } from '../../hooks/useFirestore'\n\n// Styles\nimport styles from './Home.module.css'\n\nexport default function TransactionList({ transactions }) {\n    const { deleteDocument, response } = useFirestore('transactions')\n    console.log(response)\n\n    return (\n        <ul className={styles.transactions}>\n            {transactions.map((transaction) => (\n                <li key={transaction.id}>\n                    <p className={styles.name}>{transaction.name}</p>\n                    <p className={styles.amount}>${transaction.amount}</p>\n                    <button onClick={() => deleteDocument(transaction.id)}>x</button>\n                </li>\n            ))}\n        </ul>\n    )\n}","import { useAuthContext } from '../../hooks/useAuthContext'\nimport { useCollection } from '../../hooks/useCollection'\n\n// Styles\nimport styles from './Home.module.css'\n\n// Components\nimport TransactionForm from './TransactionForm'\nimport TransactionList from './TransactionList'\n\nexport default function Home() {\n    const { user } = useAuthContext()\n    const { documents, error } = useCollection(\n        'transactions', [\"uid\", \"==\", user.uid], ['createdAt', 'desc']\n    )\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.content}>\n                {error && <p>{error}</p>}\n                {documents && <TransactionList transactions={documents} />}\n            </div>\n            <div className={styles.sidebar}>\n                <TransactionForm uid={user.uid} />\n            </div>\n        </div>\n    )\n}","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n    const [documents, setDocuments] = useState(null)\n    const [error, setError] = useState(null)\n\n    // If we don´t use a ref --> infinite loop happens in useEffect\n    // _query is an array and is \"different\" on every function call\n    const query = useRef(_query).current\n    const orderBy = useRef(_orderBy).current\n\n    useEffect(() => {\n        let ref = projectFirestore.collection(collection)\n\n        if (query) {\n            ref = ref.where(...query)\n        }\n        if (orderBy) {\n            ref = ref.orderBy(...orderBy)\n        }\n\n        // Real time listener to the collection. This fires once initially and everytime there is a change to the collection (like adding a new element)\n        const unsubscribe = ref.onSnapshot((snapshot) => {\n            let results = []\n            snapshot.docs.forEach(doc => {\n                results.push({ ...doc.data(), id: doc.id })\n            })\n\n            // Update states\n            setDocuments(results)\n            setError(null)\n        }, (error) => {\n            console.log(error)\n            setError('Could not fetch the data')\n        })\n\n        // Unsubscribe on unmount\n        return () => unsubscribe()\n\n    }, [collection, query, orderBy])\n\n    return { documents, error }\n}","import { useEffect, useState } from \"react\"\nimport { projectAuth } from \"../firebase/config\"\nimport { useAuthContext } from \"./useAuthContext\"\n\n// We use this hook inside a component and then we use the login function. If in the meantime we unmount the component then the cleanup function will be fired and then isCancelled \n// is going to be updated to \"true\". Then if after that we get the response for the signInWithEmailAndPassword back and it tries to update the state it is not going to do it because isCancelled is now true.\nexport const useLogin = () => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const login = async (email, password) => {\n        setError(null)\n        setIsPending(true)\n\n        // Sign the user in\n        try {\n            const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n            // Dispatch login action\n            dispatch({ type: 'LOGIN', payload: res.user })\n\n            // Update state\n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null)\n            }\n\n        }\n        catch (err) {\n            if (!isCancelled) {\n                console.log(err.message)\n                setError(err.message)\n                setIsPending(false)\n            }\n        }\n    }\n\n    // Cleanup function\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { login, error, isPending }\n}","import { useState } from 'react'\nimport { useLogin } from '../../hooks/useLogin'\n\n// Styles\nimport styles from './Login.module.css'\n\nexport default function Login() {\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const { login, error, isPending } = useLogin()\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        login(email, password)\n    }\n\n    return (\n        <form onSubmit={handleSubmit} className={styles['login-form']}>\n            <h2>Login</h2>\n            <label>\n                <span>Email:</span>\n                <input\n                    type=\"email\"\n                    onChange={(e) => setEmail(e.target.value)}\n                    value={email}\n                />\n            </label>\n            <label>\n                <span>Password:</span>\n                <input\n                    type=\"password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                    value={password}\n                />\n            </label>\n            {!isPending && <button className='btn'>Login</button>}\n            {isPending && <button className='btn' disabled>Loading</button>}\n            {error && <p>{error}</p>}\n        </form>\n    )\n}\n","import { useEffect, useState } from \"react\"\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from \"./useAuthContext\"\n\nexport const useSignup = () => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    // We create this async function cause we use await inside it. We take in 3 arguments which are coming from the signup form\n    const signup = async (email, password, displayName) => {\n        setError(null)\n        setIsPending(true)\n\n        // We try to sign up a user and catch any errors if there are any.\n        try {\n            // Signup user with a firebase auth method which uses 2 arguments (email and password)\n            const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n\n            // If there is an error with the auth we will throw an error and catch it further down in the function\n            if (!res) {\n                throw new Error('Could not complete signup')\n            }\n\n            // As soon as we have a valid response we add a display name to the user\n            await res.user.updateProfile({ displayName })\n\n            // Dispatch login action\n            dispatch({ type: 'LOGIN', payload: res.user })\n\n            // Update state\n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null)\n            }\n        }\n        catch (err) {\n            if (!isCancelled) {\n                console.log(err.message)\n                setError(err.message)\n                setIsPending(false)\n            }\n        }\n    }\n\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { error, isPending, signup }\n}","import { useState } from 'react'\nimport { useSignup } from '../../hooks/useSignup'\n\n// Styles\nimport styles from './Signup.module.css'\n\nexport default function Signup() {\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [displayName, setDisplayName] = useState('')\n    const { signup, isPending, error } = useSignup()\n\n    // When the user submits the form we fire the signup method (which we import from useSignup.js)\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        signup(email, password, displayName)\n    }\n\n    return (\n        <form onSubmit={handleSubmit} className={styles['signup-form']}>\n            <h2>Signup</h2>\n            <label>\n                <span>Email:</span>\n                <input\n                    type=\"email\"\n                    onChange={(e) => setEmail(e.target.value)}\n                    value={email}\n                />\n            </label>\n            <label>\n                <span>Password:</span>\n                <input\n                    type=\"password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                    value={password}\n                />\n            </label>\n            <label>\n                <span>Display name:</span>\n                <input\n                    type=\"text\"\n                    onChange={(e) => setDisplayName(e.target.value)}\n                    value={displayName}\n                />\n            </label>\n            {/* If isPending is false we will show the normal button but if isPending is true we will show a button with the same style but that is disabled so that the user cannot click it */}\n            {!isPending && <button className='btn'>Signup</button>}\n            {isPending && <button className='btn' disabled>Loading</button>}\n            {error && <p> {error}</p>}\n        </form>\n    )\n}\n","import { useEffect, useState } from \"react\"\nimport { projectAuth } from \"../firebase/config\"\nimport { useAuthContext } from \"./useAuthContext\"\n\n// We use this hook inside a component and then we use the logout function. If in the meantime we unmount the component then the cleanup function will be fired and then isCancelled \n// is going to be updated to \"true\". Then if after that we get the response for the signOut back and it tries to update the state it is not going to do it because isCancelled is now true.\nexport const useLogout = () => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const logout = async () => {\n        setError(null)\n        setIsPending(true)\n\n        // Sign the user out\n        try {\n            await projectAuth.signOut()\n\n            // Dispatch logout action\n            dispatch({ type: 'LOGOUT' })\n\n            // Update state\n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null)\n            }\n\n        }\n        catch (err) {\n            if (!isCancelled) {\n                console.log(err.message)\n                setError(err.message)\n                setIsPending(false)\n            }\n        }\n    }\n\n    // Cleanup function\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { logout, error, isPending }\n\n}","import { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// Styles\nimport styles from './Navbar.module.css'\n\nexport default function Navbar() {\n    const { logout } = useLogout()\n    // Everytime there is a change in the user (login, logout) this function is going to revaluate. Then we will show some content conditionally (depending if we have a user or not)\n    const { user } = useAuthContext()\n\n    return (\n        <nav className={styles.navbar}>\n            <ul>\n                <li className={styles.title}>myMoneyApp</li>\n\n                {/* If we do NOT have an user then show the login and signup options */}\n                {!user && (\n                    <>\n                        <li><Link to=\"/login\">Login</Link></li>\n                        <li><Link to=\"/signup\">Signup</Link></li>\n                    </>\n                )}\n\n                {/* If we have an user then show the logout option */}\n                {user && (\n                    <>\n                        <li>Hello, {user.displayName}</li>\n                        <li>\n                            <button className=\"btn\" onClick={logout}>Logout</button>\n                        </li>\n                    </>\n                )}\n            </ul>\n        </nav>\n    )\n}\n","import { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\n\n// Pages & components\nimport Home from './pages/home/Home';\nimport Login from './pages/login/Login';\nimport Signup from './pages/signup/Signup';\nimport Navbar from './components/Navbar';\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\">\n              {!user && <Redirect to=\"/login\" />}\n              {user && <Home />}\n            </Route>\n            <Route path=\"/login\">\n              {user && <Redirect to=\"/\" />}\n              {!user && <Login />}\n            </Route>\n            <Route path=\"/signup\">\n              {user && <Redirect to=\"/\" />}\n              {!user && <Signup />}\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}